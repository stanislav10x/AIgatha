<h2>Leaderboard</h2>

<div>
  <div>
    <table class="table">
      <thead>
      <tr>

        <th scope="col">
          Place
        </th>

        <th scope="col">
          Username
        </th>

        <th scope="col">
          Best result
        </th>

      </tr>
      </thead>

      <tbody>
      <% user_place = 0%>
      <% @array_of_winning_users.take(5).each do |a_user| %>
        <% user_place = user_place + 1%>
    
        <tr>

          <td>
            <%= user_place %>
          </td>

          <td>
            <%= a_user %>
          </td>

          <td>
            <% a_user_id = User.where(:username => a_user).first.id %>
            <% best_game = Game.where(:author_id => a_user_id).where(:status => "solved").order(:number_of_queries => :asc).first %>
            <%= best_game.number_of_queries%> query(ies)
            
          </td>

        </tr>
      <% end %>
    </table>
  </div>
</div>
